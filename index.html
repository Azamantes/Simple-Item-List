<meta charset="UTF-8">
<title>Item management app</title>

<link rel='stylesheet' href='./css/style.css'>
<link rel='stylesheet' href='./css/cloud.css'>

<script src='js/store.js'></script>
<script>
const PATH = __dirname;
const fs = require('fs');
let types = null;
let list = null;
let config = null;
let copy = '';
const $default = JSON.stringify({
	config: {
		showDescription: false,
		visible: [],
	},
	types: [],
	list: [],
});

try {
	copy = fs.readFileSync(`${PATH}/baza.dat`).toString();
} catch (error) {
	copy = JSON.stringify({
		config: {
			showDescription: false,
			visible: [],
		},
		types: [],
		list: [],
	});
} finally {
	!copy.trim() && (copy = JSON.stringify({
		config: {
			showDescription: false,
			visible: [],
		},
		types: [],
		list: [],
	}));

	fs.writeFileSync(`${PATH}/baza.bak`, copy);
	({ types, list, config } = JSON.parse(copy));
}
</script>

<style>
	
</style>

<body>
	<div></div>
</body>

<script src='libraries/prototype.js'></script>
<script src='libraries/vue.prod.js'></script>
<script src='js/components.js'></script>
<script src='js/app.js'></script>

<script>

window.addEventListener('keydown', event => {
	if (event.key === 'F5') {
		window.location = window.location;
	}
});
App.$mount('div');

</script>